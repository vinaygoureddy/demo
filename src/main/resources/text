{
  "endpointUri": "https://stage.api.verify.mastercard.com/api/enrolments/sessions",
  "consumerKey": "_5etJrUUtkW5G1cZ9rrSv-gshSHucQqq81GVUmao393b9563!ec8349655e844395857cbb3a81def0550000000000000000",
  "keyAlias": "TestSigningKey_DAS_STG",
  "keystoreFileName": "TestSigningKey_DAS_STG.p12",
  "keystorePassword": "TestSigningKey_DAS_STG",
  "body": "{\"clientId\":\"43c3630f-882c-4341-8868-0f73a5fd14d5\",\"clientSessionId\":\"53862b20-efa4-4a98-b716-a5207ef52ffe\",\"accountReferences\":[{\"type\":\"ENCRYPTED_FPAN\",\"value\":\"eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIn0.dzQKBvP-7kSQXyy8HtFxM3ttha_SY_6UGuxono3moDGEK_SCh2qfF0-RMku41gUEIWHU7-ox8whk5e61jtDyM-zCUtcBzYNLzT_5QaEU9su6QAOffgcA78UfNb-RASNAEM5Xz4K4m-0BX-oEvmYWhFhyaYs0mJiBP-MzTou98Xgwjp4e0Wu8AIr8O8Sy4U23YsBIi_9p35vO1UVR3eSp2UU9iD1hK-0EOX5YdNavmo_Q5D8b8AddUcvtM3qw2YFmUHAemQ3UX8gOBkvYoJmd8IJMchqEwamvEKsSDtPw9FjsraJoGSW_gE7WdK-V_-Q4MRCvLl_CIqmrzuQ4kOdMkQ.U5ld3afc_JGGXFqu.nfjc7AwkBSzDcaJEafp0vzJy4TZyx7VPVmp0UkJMil_6ML1Y.q_HTO_1rof1q5JO0\",\"qualifiers\":{\"cardExpiry\":{\"expiryMonth\":\"03\",\"expiryYear\":\"28\"}},\"presentationDescriptor\":{\"presentationType\":\"CARD\",\"presentationProperties\":{\"cardLastFour\":\"7896\",\"cardProductName\":\"Platinum Rewards Card\",\"cardArtUrl\":\"https://sbx.assets.mastercard.com/card-art/combined-image-asset/6713d73d-a701-4bd2-bc9b-2e98940de9c7.png\"}},\"verificationStatus\":{\"status\":\"VERIFIED\",\"verificationMethod\":\"AHI_VERIFIED\",\"timestamp\":\"2024-10-17T09:44:29.032635Z\"}},{\"type\":\"ENCRYPTED_EMAIL_ADDRESS\",\"value\":\"eyJraWQiOiIyMDI0MDMxMTIxMjMxMy1zdGctZGFzLXBheWxvYWQtZW5jcnlwdGlvbiIsImVuYyI6IkExMjhHQ00iLCJhbGciOiJSU0EtT0FFUC0yNTYifQ.pK_D3blmleXmCdWsrBzDQ12L2NduPAYS89XWTmEXew5u_3e6MEtzroAalsostLRS8j19nqJCFZ5S2KtgJznQE3BadpJqKHJLhPBvMVElv-iFXA_Ac7n5z_5jzcnKgM6_ZsWdcIzZXcQFXhg8YuJ-n1roPBt4--w4MBnLlds8ylGzdyTKIMepPTNivdPmRmeBD6Kz_CSj5ZPamkNKdJKWVl05FW2sv6twlL7SbWLoHmUrEn304FRZgHhgREz8JVOUE5OJEnPAsq1GNPrLPBadMydFHRqWkILWGqpzbepYreR7Y0Jc6Y3Dm01oPP4TlRLz5Xdtm8d2GzSRYXwLDDRe-w.O5jYal3nJqlsrHrP.uMqG-rT17zJ7UxaOi40.Z9MJc58ICsWSDb3gNA-ddw\",\"presentationDescriptor\":{\"presentationProperties\":{\"cardLastFour\":\"4564\",\"maskedEmailAddress\":\"dummy@mastercard.com\"},\"presentationType\":\"EMAIL_ADDRESS\"},\"verificationStatus\":{\"verificationMethod\":\"EMAIL_OTP\",\"status\":\"VERIFIED\"}}],\"context\":{\"userData\":{\"userName\":\"DasDemoUser 2\",\"displayName\":\"DasDemoUser 2\"},\"certifiedMfaMethodId\":\"20001\",\"callbackUri\":{\"type\":\"WEB_URL\",\"url\":\"https://das.dev.forge.mastercard.com/#/das-test-ui/authSimulator\",\"otherParams\":{}}},\"compliance\":{\"consent\":{\"consents\":[{\"consentCategory\":\"PRIVACY_NOTICES\",\"consentLanguageText\":\"PRIVACY_NOTICES\",\"consentLanguageTextVersion\":\"1.0\",\"locale\":\"pt-BR\",\"legalContentVersion\":\"1.1\",\"timeStamp\":\"2024-10-17T09:44:29.032635Z\"},{\"consentCategory\":\"TERMS_OF_USE\",\"consentLanguageText\":\"TERMS_OF_USE\",\"consentLanguageTextVersion\":\"1.0\",\"locale\":\"pt-BR\",\"legalContentVersion\":\"1.1\",\"timeStamp\":\"2024-10-17T09:44:29.032635Z\"}]}}}"
}



endpoint to call
https://stage.api.verify.mastercard.com/das/api/authorizations/tokens/oauth
https://stage.api.verify.mastercard.com/api/enrolments/sessions


{"clientId":"43c3630f-882c-4341-8868-0f73a5fd14d5","clientSessionId":"53862b20-efa4-4a98-b716-a5207ef52ffe","accountReferences":[{"type":"ENCRYPTED_FPAN","value":"eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIn0.dzQKBvP-7kSQXyy8HtFxM3ttha_SY_6UGuxono3moDGEK_SCh2qfF0-RMku41gUEIWHU7-ox8whk5e61jtDyM-zCUtcBzYNLzT_5QaEU9su6QAOffgcA78UfNb-RASNAEM5Xz4K4m-0BX-oEvmYWhFhyaYs0mJiBP-MzTou98Xgwjp4e0Wu8AIr8O8Sy4U23YsBIi_9p35vO1UVR3eSp2UU9iD1hK-0EOX5YdNavmo_Q5D8b8AddUcvtM3qw2YFmUHAemQ3UX8gOBkvYoJmd8IJMchqEwamvEKsSDtPw9FjsraJoGSW_gE7WdK-V_-Q4MRCvLl_CIqmrzuQ4kOdMkQ.U5ld3afc_JGGXFqu.nfjc7AwkBSzDcaJEafp0vzJy4TZyx7VPVmp0UkJMil_6ML1Y.q_HTO_1rof1q5JO0","qualifiers":{"cardExpiry":{"expiryMonth":"03","expiryYear":"28"}},"presentationDescriptor":{"presentationType":"CARD","presentationProperties":{"cardLastFour":"7896","cardProductName":"Platinum Rewards Card","cardArtUrl":"https://sbx.assets.mastercard.com/card-art/combined-image-asset/6713d73d-a701-4bd2-bc9b-2e98940de9c7.png"}},"verificationStatus":{"status":"VERIFIED","verificationMethod":"AHI_VERIFIED","timestamp":"2024-10-17T09:44:29.032635Z"}},{"type":"ENCRYPTED_EMAIL_ADDRESS","value":"eyJraWQiOiIyMDI0MDMxMTIxMjMxMy1zdGctZGFzLXBheWxvYWQtZW5jcnlwdGlvbiIsImVuYyI6IkExMjhHQ00iLCJhbGciOiJSU0EtT0FFUC0yNTYifQ.pK_D3blmleXmCdWsrBzDQ12L2NduPAYS89XWTmEXew5u_3e6MEtzroAalsostLRS8j19nqJCFZ5S2KtgJznQE3BadpJqKHJLhPBvMVElv-iFXA_Ac7n5z_5jzcnKgM6_ZsWdcIzZXcQFXhg8YuJ-n1roPBt4--w4MBnLlds8ylGzdyTKIMepPTNivdPmRmeBD6Kz_CSj5ZPamkNKdJKWVl05FW2sv6twlL7SbWLoHmUrEn304FRZgHhgREz8JVOUE5OJEnPAsq1GNPrLPBadMydFHRqWkILWGqpzbepYreR7Y0Jc6Y3Dm01oPP4TlRLz5Xdtm8d2GzSRYXwLDDRe-w.O5jYal3nJqlsrHrP.uMqG-rT17zJ7UxaOi40.Z9MJc58ICsWSDb3gNA-ddw","presentationDescriptor":{"presentationProperties":{"cardLastFour":"4564","maskedEmailAddress":"dummy@mastercard.com"},"presentationType":"EMAIL_ADDRESS"},"verificationStatus":{"verificationMethod":"EMAIL_OTP","status":"VERIFIED"}}],"context":{"userData":{"userName":"DasDemoUser 2","displayName":"DasDemoUser 2"},"certifiedMfaMethodId":"20001","callbackUri":{"type":"WEB_URL","url":"https://das.dev.forge.mastercard.com/#/das-test-ui/authSimulator","otherParams":{}}},"compliance":{"consent":{"consents":[{"consentCategory":"PRIVACY_NOTICES","consentLanguageText":"PRIVACY_NOTICES","consentLanguageTextVersion":"1.0","locale":"pt-BR","legalContentVersion":"1.1","timeStamp":"2024-10-17T09:44:29.032635Z"},{"consentCategory":"TERMS_OF_USE","consentLanguageText":"TERMS_OF_USE","consentLanguageTextVersion":"1.0","locale":"pt-BR","legalContentVersion":"1.1","timeStamp":"2024-10-17T09:44:29.032635Z"}]}}}

import java.util.List;
import java.util.Map;

public class ClientData {
    private String clientId;
    private String clientSessionId;
    private List<AccountReference> accountReferences;
    private Context context;
    private Compliance compliance;

    // Getters and Setters
}

class AccountReference {
    private String type;
    private String value;
    private Qualifiers qualifiers;
    private PresentationDescriptor presentationDescriptor;
    private VerificationStatus verificationStatus;

    // Getters and Setters
}

class Qualifiers {
    private CardExpiry cardExpiry;

    // Getters and Setters
}

class CardExpiry {
    private String expiryMonth;
    private String expiryYear;

    // Getters and Setters
}

class PresentationDescriptor {
    private String presentationType;
    private PresentationProperties presentationProperties;

    // Getters and Setters
}

class PresentationProperties {
    private String cardLastFour;
    private String cardProductName;
    private String cardArtUrl;
    private String maskedEmailAddress;

    // Getters and Setters
}

class VerificationStatus {
    private String status;
    private String verificationMethod;
    private String timestamp;

    // Getters and Setters
}

class Context {
    private UserData userData;
    private String certifiedMfaMethodId;
    private CallbackUri callbackUri;

    // Getters and Setters
}

class UserData {
    private String userName;
    private String displayName;

    // Getters and Setters
}

class CallbackUri {
    private String type;
    private String url;
    private Map<String, String> otherParams;

    // Getters and Setters
}

class Compliance {
    private Consent consent;

    // Getters and Setters
}

class Consent {
    private List<ConsentDetail> consents;

    // Getters and Setters
}

class ConsentDetail {
    private String consentCategory;
    private String consentLanguageText;
    private String consentLanguageTextVersion;
    private String locale;
    private String legalContentVersion;
    private String timeStamp;

    // Getters and Setters
}


<!DOCTYPE html>
<html>
<head>
    <title>Open Page on Load</title>
    <script>
        function openNewPage() {
            // Replace "your_target_page.html" with the actual URL or path of the page you want to open
            window.location.href ="https://stage.verify.mastercard.com/auth/passkeys?authSessionId=CPjFFdeNS4-KYG3-QwFNvw000000000010US&clientId=43c3630f-882c-4341-8868-0f73a5fd14d5&clientSessionId=53862b20-efa4-4a98-b716-a5207ef52ffe&locale=pt-BR&accessToken=eyJraWQiOiIyMDI0MDkwMjExMTAzOC1zdGctbWMtZGFzLWZlZHJhdGVkLXRva2VuLXNyYy1tYXN0ZXJjYXJkLWludCIsInR5cCI6IkpXVCIsImFsZyI6IlJTMjU2In0.eyJhdWQiOiJkaWdpdGFsYXV0aGVudGljYXRpb25zZXJ2aWNlIiwic3ViIjoiNjNkNGNiZWYtOGYwZC00NzRkLTk0ZTItN2IyY2ExZjg2ZjhmIiwibmJmIjoxNzQ0MzE5MTMwLCJpc3MiOiJodHRwczpcL1wvc3RhZ2UudmVyaWZ5Lm1hc3RlcmNhcmQuY29tIiwiZXhwIjoxNzQ0MzIwMDMwLCJpYXQiOjE3NDQzMTkxMzAsImNpZCI6IjYzZDRjYmVmLThmMGQtNDc0ZC05NGUyLTdiMmNhMWY4NmY4ZiJ9.PYX20lKPAZ7QTyo4YFEhSP4gUnCYKvrlu2kV8e6saIEEw_9yXrJBWLssLgTYGNz_s4nk8KM7zfLCFGzs5NLUamT41kKWOpH-ZgzUBtMGsevo8LYd2fUu-RspXNpt2XpgSWgwh1njfTMYVj7hZthxG0GQoC5WsqShgBD08Rjmo7z2nPtl5aB5tPQhB8Q-Z5Tjoou6P8FhYGRe_eAdByDdwu9K10blSz7yAfP7Xvnq1PX07jhkgYiKH6-VyTtQGe9_xYWBNafvfhoiZLYpNJUw3y8CdE2nWZVOqzf-uvWWADkIfFsMUl-4rAgsAZnTZCu21B_zirj7fAON0naM5ezoqA";
            // Opens in the same window/tab
            // Alternatively, to open in a new window/tab:
            // window.open("your_target_page.html", "_blank");
        }
        // Call the openNewPage function when the page finishes loading
        window.onload = openNewPage;
    </script>
</head>
<body>
</body>
</html>



  "compliance": {
    "consent": {
      "consents": [
        {
          "consentCategory": "PRIVACY_NOTICES",
          "consentLanguageText": "PRIVACY_NOTICES",
          "consentLanguageTextVersion": "1.0",
          "locale": "en-AU",
          "legalContentVersion": "1.0",
          "timeStamp": "2024-10-17T09:44:29.032635Z"
        },
        {
          "consentCategory": "TERMS_OF_USE",
          "consentLanguageText": "TERMS_OF_USE",
          "consentLanguageTextVersion": "1.0",
          "locale": "en-AU",
          "legalContentVersion": "1.0",
          "timeStamp": "2024-10-17T09:44:29.032635Z"
        }
      ]
    }
  }


  // final for closing response
<script>
  document.addEventListener("DOMContentLoaded", function () {
    window.parent.postMessage({"type":"threeds-challenge-notification","outcome":"succeeded"}, "https://qa-tp-app.mtp.msignia.com");
  });
</script>
--- CRes decoded
{"acsTransID":"f18f52dc-e960-4b8c-ada1-1c7815f03361","messageType":"CRes","challengeCompletionInd":"Y","messageVersion":"2.2.0","transStatus":"Y","threeDSServerTransID":"6572e5a0-9380-4c7a-9555-5aae59d2fc99"}

